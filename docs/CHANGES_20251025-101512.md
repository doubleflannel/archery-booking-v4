## CHANGES: Faster Distance Transform by Shrinking the Problem

- Timestamp: 2025-10-25 10:15:12 local

### Context (before)
- Distance transform (DT) runs on the full warped target every frame, even though the geometry never changes.
- Polar remap and ROI selection are recomputed each time, so small camera jiggles trigger heavy recomputation.
- DT operates on full-resolution masks, even when only small regions contain new changes.

### Applied Change
- Precomputed a template distance map once and warp it with the homography each frame instead of rebuilding per-pixel distances.
- Crop a tight ROI around the warped bullseye (circle + margin), run the heavy steps on a downsampled ROI, then scale contours back, filtering out tiny upsampled blobs to avoid ghost hits.
- If the downsampled path produces no contours, fall back to full-resolution processing for that frame to retain accuracy.

### NYC 10-year-old analogy
- Before: I re-drew the whole city map every time I wanted to find my pizza shop.
- After: I nudge the map to the right block, peek down just the noisy alley, and glance at a smaller copy before zooming in—same pizza, way less wandering and no accidentally counting gum spots as slices.
